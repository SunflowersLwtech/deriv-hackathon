# ─── TradeIQ Environment Variables ─────────────────────────
# Copy this file to .env:  cp .env.example .env
# Then fill in all values below.
#
# This file is used by:
#   - docker compose (via env_file)
#   - backend/manage.py (via python-dotenv)
#   - scripts/*.sh
# ───────────────────────────────────────────────────────────

# ── Database (Supabase PostgreSQL) ──
# Supabase Dashboard -> Connect -> URI (Session mode, port 5432)
# Special chars in password must be URL-encoded: @ -> %40, # -> %23, : -> %3A
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres

# ── Django ──
DJANGO_SECRET_KEY=change-me-to-a-random-50-char-string
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# ── Supabase Auth ──
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=eyJxxxxx
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ── Google OAuth (Supabase Google provider) ──
GOOGLE_CLIENT_ID=xxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=xxxxx
CALLBACK_URL=https://xxxxx.supabase.co/auth/v1/callback

# ── LLM API Keys (at least one required) ──
DEEPSEEK_API_KEY=sk-xxxxx
OPENROUTER_API_KEY=sk-or-xxxxx

# ── External APIs ──
DERIV_APP_ID=123456
DERIV_TOKEN=your-deriv-token
NEWS_API_KEY=your-newsapi-key
FINNHUB_API_KEY=your-finnhub-key

# ── Bluesky (AT Protocol) ──
BLUESKY_HANDLE=tradeiq-analyst.bsky.social
BLUESKY_APP_PASSWORD=xxxx-xxxx-xxxx-xxxx

# ── Redis (Upstash free tier, TLS required) ──
# Required for WebSocket channel layer + real-time alerts
# Falls back to InMemoryChannelLayer if not set (no cross-process push)
REDIS_URL=rediss://default:xxxxx@xxxxx.upstash.io:6379

# ── Real-time Features ──
# Set to "true" to start market monitor daemon on backend boot
# The monitor scans Deriv prices every 5s and triggers pipeline on >1% volatility
RUN_MONITOR=false

# ── CORS (for Render deployment) ──
# Set to your frontend URL when deploying (e.g., https://tradeiq-frontend.onrender.com)
# CORS_ALLOWED_ORIGINS=https://your-frontend.onrender.com

# ── Docker Compose Overrides (optional) ──
# HOST=0.0.0.0
# BACKEND_PORT=8000
# FRONTEND_PORT=3000
